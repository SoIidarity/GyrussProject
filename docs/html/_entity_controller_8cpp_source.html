<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ELEN3009 Software Development II Project: game-source-code/EntityController.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Earth_logo.gif"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ELEN3009 Software Development II Project
   &#160;<span id="projectnumber">v3.0</span>
   </div>
   <div id="projectbrief">Tyson Cross 1239448  ·êß Chris Maree 1101946</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_entity_controller_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">EntityController.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;EntityController.hpp&quot;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a8812c9d07edf73b8ec1587192edeceb2">    7</a></span>&#160;<a class="code" href="class_entity_controller.html#a8812c9d07edf73b8ec1587192edeceb2">EntityController::EntityController</a>(Vector2i resolution,</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;                                   <a class="code" href="class_player_ship.html">PlayerShip</a> &amp;playerShip,</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;                                   <a class="code" href="class_resource_holder.html">TextureHolder</a> &amp;textureHolder,</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;                                   <a class="code" href="class_score.html">Score</a> &amp;score,</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;                                   <span class="keywordtype">float</span> speedModifier) : _resolution{resolution},</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;                                                          _playerShip{playerShip},</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                                                          _textureHolder{textureHolder},</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;                                                          _score{score}</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;{</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <span class="comment">// Reset timers for the enemy spawning and shooting</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    _satellitesAlive = 0;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    _timerSpawnFromCentre.restart();</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    _timerSpawnFromPerimeter.restart();</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    _timerSpawnWanderer.restart();</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    _timerSatellite.restart();</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    _timerMeteoroid.restart();</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    _totalTime.restart();</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    _explosionHasOccurred = <span class="keyword">false</span>;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    _defaultSpeed = speedModifier;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    _speedModifier = _defaultSpeed;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="comment">// Generic properties set at construction</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    _bulletPlayerSpeed = 25;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    _bulletEnemySpeed = 20;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    _meteoroidSpeed = 30;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keyword">auto</span> seed0 = 4294967296; <span class="comment">//Seeds for PerlinNoise (prime numbers)</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keyword">auto</span> seed1 = 1664525;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    _xNoise = <a class="code" href="class_perlin_noise.html">PerlinNoise</a>(seed0);</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    _yNoise = <a class="code" href="class_perlin_noise.html">PerlinNoise</a>(seed1);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a40483087cfb5b404792454ce5df05165">   40</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_entity_controller.html#a40483087cfb5b404792454ce5df05165">EntityController::spawnBasicEnemy</a>(<a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630">entity::ID</a> <span class="keywordtype">id</span>,</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                                       <a class="code" href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683">textures::ID</a> shipVariant,</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                                       MovementDirection movementDirection,</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                                       MovementState movementState)</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordtype">float</span> spiralDistanceFromCentre;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordtype">float</span> spiralAngle;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">switch</span> (movementState)</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    {</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordflow">case</span> (MovementState::SpiralIn):</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            spiralDistanceFromCentre = (_resolution.y / 3) - 1;<span class="comment">//Spawn just inside play zone</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            spiralAngle = _playerShip.<a class="code" href="class_player_ship.html#acfb073f06929879aa62a6baebe9e5323">getAngle</a>() + 180; <span class="comment">//Spawn opposite side to playerShip</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            _timerSpawnFromPerimeter.restart();</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        }</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">case</span> (MovementState::SpiralOut):</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            spiralDistanceFromCentre = 0;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            spiralAngle = 0;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            _timerSpawnFromCentre.restart();</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        }</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">case</span> (MovementState::Wandering):</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            spiralDistanceFromCentre = (_resolution.y / 3) - rand() % 10; <span class="comment">// Slightly random position to start wandering</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            spiralAngle = _playerShip.<a class="code" href="class_player_ship.html#acfb073f06929879aa62a6baebe9e5323">getAngle</a>() + rand() % 90 + 180; <span class="comment">// Random angle, avoiding playerShip</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            _timerSpawnWanderer.restart();</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        }</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        default :</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keyword">auto</span> enemy = std::make_unique&lt;Enemy&gt;(_resolution,</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                         spiralDistanceFromCentre,</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                         spiralAngle,</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                         0.5,</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                                         id,</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                                         _textureHolder,</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                                         shipVariant,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                         movementState,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                                         movementDirection);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// SpiralIn and Wandering need to have their move set on spawn to prevent clipping. SpiralOut does not</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// need this as it is in the centre to begin with.</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span>((movementState==MovementState::Wandering)||(movementState==MovementState::SpiralIn))</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        enemy-&gt;<a class="code" href="class_enemy.html#ad1f74d7c24090c051b5ba532753b6b0c">setScale</a>(0, 0);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        enemy-&gt;<a class="code" href="class_enemy.html#a2798f5714300fdd9c1fed1e9ea9dcb3c">setMove</a>(0, 0);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        enemy-&gt;<a class="code" href="class_enemy.html#a90a135c93792574d2675a670ac25b081">move</a>();</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    _enemies.push_front(std::move(enemy)); <span class="comment">// Add enemy to enemy vector</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a07015aef5ce07f74db32abb25f10ddd2">  100</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_entity_controller.html#a07015aef5ce07f74db32abb25f10ddd2">EntityController::spawnMeteoroid</a>()</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;{</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    _timerMeteoroid.restart();</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keyword">auto</span> randomAngle = rand()%360;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keyword">auto</span> meteoroid = std::make_unique&lt;Meteoroid&gt;(_resolution,</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                                                 0,</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                                 randomAngle,</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                                                 1,</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                                                 <a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630af598aba72e1ec676dd09f77d902cca47">entity::Meteoroid</a>,</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                                 _textureHolder,</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                                 <a class="code" href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683a8d465225cc34392b725bee1861ad92a6">textures::Meteoroid</a>);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    _meteoroids.push_front(std::move(meteoroid));</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a40a37104d6dfde0f5d721d9af5218593">  115</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_entity_controller.html#a40a37104d6dfde0f5d721d9af5218593">EntityController::spawnSatellites</a>()</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    _timerSatellite.restart();</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keyword">auto</span> numberOfSatellites = 3;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    _satellitesAlive = numberOfSatellites + 1; <span class="comment">// Only ever want 3 alive at a time (index starts at 1)</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keyword">auto</span> satelliteCirclingRadius = _resolution.y / 20;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keyword">auto</span> satelliteSpawnScale = 0.7;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keyword">auto</span> movementDirection = <span class="keyword">static_cast&lt;</span>MovementDirection<span class="keyword">&gt;</span>(rand() % 2); <span class="comment">// Random clockwise or counter-clockwise</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keyword">auto</span> angle = 0;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keyword">auto</span> currentShipRadius = _playerShip.<a class="code" href="class_player_ship.html#af4b4060652f725125bc2704826ab9abe">getRadius</a>(); <span class="comment">// Current playership location is used for satellite spawn</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keyword">auto</span> currentShipAngle = _playerShip.<a class="code" href="class_player_ship.html#acfb073f06929879aa62a6baebe9e5323">getAngle</a>();</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keyword">auto</span> satelliteScaleSize = 0.4;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keyword">auto</span> spawnAngle = <a class="code" href="namespacecommon.html#a3ccc991a71e316bb738d931ce5d36cf0">common::degreeToRad</a>(currentShipAngle+180);     <span class="comment">// Offset of satellite</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                                                                     <span class="comment">// Spawn on other side to playerShip</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keyword">auto</span> satelliteSpawnLocation = Vector2f{float(satelliteScaleSize*currentShipRadius*sin(spawnAngle)),</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                               float(satelliteScaleSize*currentShipRadius*cos(spawnAngle))};</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; numberOfSatellites; i++) <span class="comment">//need to spawn 3 Satellites. run loop 3 times</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="comment">//introduce a random element on spawn and add to the generic centre the others use</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keyword">auto</span> randomOffsetX = rand() % 20 + 10.0f;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keyword">auto</span> randomOffsetY = rand() % 20 + 10.0f;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="comment">//spawn ships at a slight random offset from centre of rotation point</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        satelliteSpawnLocation={satelliteSpawnLocation.x+randomOffsetX,satelliteSpawnLocation.y+randomOffsetY};</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keyword">auto</span> enemy = std::make_unique&lt;Enemy&gt;(_resolution,</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                                             satelliteCirclingRadius,</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                                             angle,</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                                             satelliteSpawnScale,</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                                             <a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630a482a2609e181d7a5ef12b27589e15af1">entity::Satellite</a>,</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                                             _textureHolder,</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                                             <a class="code" href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683a31855a1fade550056ae543964088be50">textures::Satellite</a>,</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                                             MovementState::SmallCircling,</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                             movementDirection);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        angle += 120; <span class="comment">// Symmetric spawning</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        enemy-&gt;<a class="code" href="class_enemy.html#ad1f74d7c24090c051b5ba532753b6b0c">setScale</a>(0,0);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        enemy-&gt;<a class="code" href="class_enemy.html#a2798f5714300fdd9c1fed1e9ea9dcb3c">setMove</a>(0,0,satelliteSpawnLocation); <span class="comment">// Ensure  satellite not off-screen</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        enemy-&gt;<a class="code" href="class_enemy.html#a90a135c93792574d2675a670ac25b081">move</a>();</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        _enemies.push_front(std::move(enemy));</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a11e3e3bfbb24a964d110e15566f89dc5">  157</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_entity_controller.html#a11e3e3bfbb24a964d110e15566f89dc5">EntityController::spawnEntities</a>()</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// Initial delay before first enemies spawn</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (_totalTime.getElapsedTime().asSeconds() &gt; 1)</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keyword">auto</span> minNumberEnemies = 1;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keyword">auto</span> maxNumberEnemies = 8;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">if</span> (_enemies.size() &lt; maxNumberEnemies)</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <span class="keyword">auto</span> shipVariant = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683">textures::ID</a><span class="keyword">&gt;</span>(rand() % 2);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <span class="keyword">auto</span> shipType = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630">entity::ID</a><span class="keyword">&gt;</span>(shipVariant);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <span class="keyword">auto</span> movementDirection = <span class="keyword">static_cast&lt;</span>MovementDirection<span class="keyword">&gt;</span>(rand() % 2);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="comment">// Spawn enemy spiral out</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="keywordtype">float</span> enemySpawnFromCentreTimer = float(fmod(rand(), 1.2f) + 0.8f);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keywordflow">if</span> ((_timerSpawnFromCentre.getElapsedTime().asSeconds() &gt; enemySpawnFromCentreTimer)</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                || (_enemies.size() &lt;= minNumberEnemies))</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                <a class="code" href="class_entity_controller.html#a40483087cfb5b404792454ce5df05165">spawnBasicEnemy</a>(shipType, shipVariant, movementDirection, MovementState::SpiralOut);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <span class="comment">// Spawn enemy spiral in</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordtype">float</span> enemySpawnFromPerimeterTimer = float(fmod(rand(), 2.4f) + 1.6f);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="keywordflow">if</span> ((_timerSpawnFromPerimeter.getElapsedTime().asSeconds() &gt; enemySpawnFromPerimeterTimer)</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                || (_enemies.size() &lt;= minNumberEnemies))</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                <a class="code" href="class_entity_controller.html#a40483087cfb5b404792454ce5df05165">spawnBasicEnemy</a>(shipType, shipVariant, movementDirection, MovementState::SpiralIn);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <span class="comment">// Spawn enemy wanderer</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="keywordtype">float</span> enemySpawnWandererTimer = float(fmod(rand(), 3.4f) + 2.6f);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="keywordflow">if</span> ((_timerSpawnWanderer.getElapsedTime().asSeconds() &gt; enemySpawnWandererTimer)</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                || (_enemies.size() &lt;= minNumberEnemies))</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                <a class="code" href="class_entity_controller.html#a40483087cfb5b404792454ce5df05165">spawnBasicEnemy</a>(<a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630a6c66122ef45e01214ba4ff75ed43c77b">entity::BasicWanderer</a>, <a class="code" href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683ae7b2e053768f8f2f439c246385c3825e">textures::EnemyShipYellow</a>, movementDirection, MovementState::Wandering);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="comment">// Spawn satellites</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">if</span> (_satellitesAlive == 0)</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="keywordtype">float</span> satelliteSpawn = float(fmod(rand(), 5.f) + 15.f);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <span class="keywordflow">if</span> (_timerSatellite.getElapsedTime().asSeconds() &gt; satelliteSpawn)</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                <a class="code" href="class_entity_controller.html#a40a37104d6dfde0f5d721d9af5218593">spawnSatellites</a>();</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            _timerSatellite.restart();</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="comment">// Spawn meteoroids</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keyword">auto</span> meteoroidSpawnEventTimer = fmod(rand(),8.f) + 10.f;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">if</span> (_timerMeteoroid.getElapsedTime().asSeconds() &gt; meteoroidSpawnEventTimer)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <a class="code" href="class_entity_controller.html#a07015aef5ce07f74db32abb25f10ddd2">spawnMeteoroid</a>();</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="keywordtype">void</span> EntityController::playerShoot()</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;{</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keyword">auto</span> numberOfBullets = 1;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keyword">auto</span> bulletOffset = 3.8f; <span class="comment">// Adjust so bullet spawns just in front of ship</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keyword">auto</span> bulletScale = _playerShip.<a class="code" href="class_player_ship.html#aa0e837d731a3d3bac58f7ffbaac309b0">getScale</a>().x * 1.5f;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">if</span> (_playerShip.<a class="code" href="class_player_ship.html#a38a98009280fe3a9c74743c111bc0a7a">isUpgraded</a>())</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        numberOfBullets = 2;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i &lt; numberOfBullets; i++) <span class="comment">// 1 or 2 bullets</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">if</span> (numberOfBullets == 1)</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            bulletOffset = 0;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            bulletOffset *= -1;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keyword">auto</span> bullet = std::make_unique&lt;Bullet&gt;(_resolution,</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                               _playerShip.<a class="code" href="class_player_ship.html#a9671688d8c1759ef3f4500482f51f119">getDistanceFromCentre</a>(),</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                               _playerShip.<a class="code" href="class_player_ship.html#acfb073f06929879aa62a6baebe9e5323">getAngle</a>() + bulletOffset,</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                               bulletScale,</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                               <a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630a2f01aaacf9d02209ca6cea51dec18630">entity::PlayerBullet</a>,</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                               _textureHolder,</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                                               <a class="code" href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683a668bb0cb7548cbcda4cf41982191bbe5">textures::BulletPlayer</a>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        _bulletsPlayer.push_front(std::move(bullet));</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        _score.<a class="code" href="class_score.html#a52540ac16336966a6805da3a0f88845f">incrementBulletsFired</a>();</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="keywordtype">void</span> EntityController::enemyShoot()</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;{</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    _enemyShootEventHasOccurred = <span class="keyword">false</span>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keyword">auto</span> minNumberEnemyBullets = 0; <span class="comment">//rand() % 2;</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keyword">auto</span> doNotFireInsideThisRadius = (_resolution.y / 2) * 0.05; <span class="comment">// Only shoot when closer (5% of circle radius)</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordtype">float</span> enemyShootTime = float(fmod(rand(),2.5f) + 3.2f);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;enemy : _enemies)    <span class="comment">// All enemies need a chance to shoot</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keywordflow">if</span> (enemy-&gt;<a class="code" href="class_enemy.html#a78d732564cb0fadae19a6859b62dbee7">getDistanceFromCentre</a>() &gt; doNotFireInsideThisRadius)</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="keywordflow">if</span> ((enemy-&gt;<a class="code" href="class_enemy.html#ace550df4474b17d1774e8f5abd0dcfdb">getShootTimerElapsedTime</a>() &gt; enemyShootTime)</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                || (_bulletsEnemy.size() &lt; minNumberEnemyBullets))</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                enemy-&gt;<a class="code" href="class_enemy.html#aeee94969ed311eb4e74bb96217db54bc">resetShootTimer</a>();</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                enemy-&gt;<a class="code" href="class_enemy.html#a9a23ac01765299ace191e92be2b366a5">setShoot</a>();</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                <span class="keyword">auto</span> bullet_enemy = std::make_unique&lt;Bullet&gt;(_resolution,</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                                                             enemy-&gt;<a class="code" href="class_enemy.html#a18b30fb59601ac04aef5d68b7740f0b6">getRadius</a>(),</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                                                             enemy-&gt;<a class="code" href="class_enemy.html#a8c29ddcd122e8abfa0cb95cebcc287ca">getAngle</a>(),</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                                                             0.3,</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                                                             <a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630a80bd74deb24a8aaa506fb1bdbcd9bf48">entity::EnemyBullet</a>,</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                                                             _textureHolder,</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                                                             <a class="code" href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683a8e31295a4a08b7f43e186d15604e0df9">textures::BulletEnemy</a>);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                _bulletsEnemy.push_front(move(bullet_enemy));</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                _enemyShootEventHasOccurred = <span class="keyword">true</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a0eb21f206e193254b6cd2d0e095fac73">  275</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_entity_controller.html#a0eb21f206e193254b6cd2d0e095fac73">EntityController::shoot</a>()</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;{</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">// Player shooting (Bullet creation)</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span> (_playerShip.<a class="code" href="class_player_ship.html#af9637e106c714e09bbdfce4e5ff59ccd">isShooting</a>())</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        playerShoot();</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// Enemy Shooting</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    enemyShoot();</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a745f45e10249cbb831e10361a7ef161e">  285</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="class_entity_controller.html#a745f45e10249cbb831e10361a7ef161e">EntityController::shootingOccurred</a>()</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;{</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">return</span> _enemyShootEventHasOccurred;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="keywordtype">void</span> EntityController::setEnemyMoveState()</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;{</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keyword">auto</span> growShipScreenZone = _resolution.y/5.f; <span class="comment">// Prevents change in behaviour near boundary</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keyword">auto</span> shipClipScreenZone = _resolution.y/2.5f; <span class="comment">// Prevents change in behaviour near boundary</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keyword">auto</span> minimumRadius = (_resolution.y/2)*0.06; <span class="comment">// Specifies minimum radius that within no behaviour changes occur</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;enemy : _enemies)</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="comment">// Generic properties for each enemy. defined in the loop as per enemy specific</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keyword">auto</span> currentEnemyMovementState = enemy-&gt;<a class="code" href="class_enemy.html#af459b10383bcb7bc5b3a6ffa15389c6e">getMovementState</a>();</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keyword">auto</span> currentEnemyRadius = enemy-&gt;<a class="code" href="class_enemy.html#a18b30fb59601ac04aef5d68b7740f0b6">getRadius</a>();</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keyword">auto</span> currentEnemyType = enemy-&gt;<a class="code" href="class_enemy.html#aa681a38470e97bc9d00106af8d2d7b8b">getType</a>();</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">if</span> ((currentEnemyRadius &gt; _resolution.y / 2.f)  <span class="comment">// Don&#39;t leave game play area, re-spawn in centre after leaving</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;             || ((currentEnemyMovementState == MovementState::SpiralIn) &amp;&amp; (currentEnemyRadius &lt; minimumRadius))) <span class="comment">// Reset from spiral inwards</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            enemy-&gt;<a class="code" href="class_enemy.html#ad162072e34f5a2ba9efce7ebe9295d80">reset</a>();</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="comment">// Random values to define ship movement</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="keyword">auto</span> randomStateChange = rand()%100+1; <span class="comment">// 1 to 100%, chance to change state</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <span class="comment">// Chance that the ship will enter a new movement state</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="keywordflow">if</span> (((currentEnemyType  == <a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630a5214f3f7bc586c30aa4d0147f5d77e63">entity::Basic</a>) || (currentEnemyType  == <a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630a8fb473f90603316f51fd6961385ae7dc">entity::BasicAlternate</a>)) <span class="comment">// Only apply changes to normal ships</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                &amp;&amp; (currentEnemyRadius &gt; growShipScreenZone)  <span class="comment">// Don&#39;t change state if ship is too small</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                &amp;&amp; (currentEnemyRadius &lt; shipClipScreenZone)) <span class="comment">// Don&#39;t change state if ship is too big and is going to fly off screen</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                <span class="keywordflow">if</span> (randomStateChange &lt; 6)                                          <span class="comment">// 5% chance</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                    enemy-&gt;<a class="code" href="class_enemy.html#a3a828e0b2654e7aec476040abe9ea5e7">setMovementState</a>(MovementState::CircleOffsetLeft);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                }</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                <span class="keywordflow">if</span> (randomStateChange &gt; 6 &amp;&amp; randomStateChange &lt; 13)                <span class="comment">// 5% chance</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                    enemy-&gt;<a class="code" href="class_enemy.html#a3a828e0b2654e7aec476040abe9ea5e7">setMovementState</a>(MovementState::CircleOffsetRight);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((randomStateChange &gt; 50) &amp;&amp; (randomStateChange &lt; 52))    <span class="comment">// 2% chance</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                    enemy-&gt;<a class="code" href="class_enemy.html#a3a828e0b2654e7aec476040abe9ea5e7">setMovementState</a>(MovementState::SpiralIn);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (randomStateChange == 60)                                 <span class="comment">// 1% change</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                    enemy-&gt;<a class="code" href="class_enemy.html#a3a828e0b2654e7aec476040abe9ea5e7">setMovementState</a>(MovementState::SpiralOut);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            setEnemyMove(enemy, currentEnemyMovementState, growShipScreenZone, currentEnemyRadius);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="keywordtype">void</span> EntityController::setEnemyMove(std::unique_ptr&lt;Entity&gt; &amp;enemy,</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                                    MovementState currentEnemyMovementState,</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                                    <span class="keywordtype">float</span> growShipScreenZone,</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                                    <span class="keywordtype">float</span> currentEnemyRadius)</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;{</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keyword">auto</span> shipCircleRadius = _resolution.y / 3.f;    <span class="comment">// Size of spiral side circle radius</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keyword">auto</span> shipOffsetIncrement = rand() % 3 + 1.f;    <span class="comment">// How circle offset changes</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keyword">auto</span> shipRadiusIncrease = rand() % 3 + 1.f;     <span class="comment">// How much to increment the ship radius by</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keyword">auto</span> distantSpeedMultiplier = 10.f;             <span class="comment">// How fast the ship circles grow in the small region of the screen</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keyword">auto</span> satelliteGrowIncrement = 2.0f;             <span class="comment">// Satellites grow at a different rate, faster than other entities</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keyword">auto</span> randomAngle = rand() % 2 + 2.0f;           <span class="comment">// Constantly increasing random angle of rotation</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keyword">auto</span> perlinNoiseAngleOffset = 5.0f;             <span class="comment">// Size of angle offset used in perlinNoise movement</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keyword">auto</span> perlinNoiseSpeedScale = 3.0f;             <span class="comment">// Scales speed of perlinNoise</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keyword">auto</span> perlinRadiusOffset = 70.0f;                <span class="comment">// Change in radius for perlinNoise</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keyword">auto</span> currentEnemyDirectionSign = enemy-&gt;<a class="code" href="class_enemy.html#ae515a2ac21031b1898b14824e6b77d89">getMovementDirectionSign</a>();</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keyword">auto</span> currentEnemyTimeAlive = enemy-&gt;<a class="code" href="class_enemy.html#a7767abadc17ca455e792aee7a6a4e81b">getAliveTimeElapsedTime</a>();</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keyword">auto</span> currentEnemyCentre = enemy-&gt;<a class="code" href="class_enemy.html#a8e39a40a28f1384dd7e0d24d053a506f">getCentre</a>();</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="comment">// Movement (based on behaviour state)</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">switch</span> (currentEnemyMovementState)</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keywordflow">case</span> (MovementState::SpiralOut) : <span class="comment">// Standard spiral-out movement</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="keywordflow">if</span> (currentEnemyRadius &lt; growShipScreenZone) <span class="comment">// Grow faster if close to the centre</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                enemy-&gt;<a class="code" href="class_enemy.html#a2798f5714300fdd9c1fed1e9ea9dcb3c">setMove</a>(randomAngle * _speedModifier,</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                               shipRadiusIncrease * distantSpeedMultiplier * _speedModifier,</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                               currentEnemyCentre);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                enemy-&gt;<a class="code" href="class_enemy.html#a2798f5714300fdd9c1fed1e9ea9dcb3c">setMove</a>(randomAngle * currentEnemyDirectionSign * _speedModifier,</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                               shipRadiusIncrease * _speedModifier,</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                               currentEnemyCentre);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">case</span> (MovementState::SpiralIn) : <span class="comment">// Spiral in movement. decrement the radius</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            enemy-&gt;<a class="code" href="class_enemy.html#a2798f5714300fdd9c1fed1e9ea9dcb3c">setMove</a>(randomAngle * currentEnemyDirectionSign * _speedModifier,</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                           -shipRadiusIncrease * _speedModifier,</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                           currentEnemyCentre);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordflow">case</span> (MovementState::CircleOffsetRight) : <span class="comment">// Perform a &quot;circle&quot; move Right, by offsetting centre of circle</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="keywordflow">if</span> (currentEnemyCentre.x &lt; shipCircleRadius)</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                enemy-&gt;<a class="code" href="class_enemy.html#a2798f5714300fdd9c1fed1e9ea9dcb3c">setMove</a>(randomAngle * currentEnemyDirectionSign * _speedModifier,</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                               0,</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                               {currentEnemyCentre.x + shipOffsetIncrement, currentEnemyCentre.y});</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                enemy-&gt;<a class="code" href="class_enemy.html#a2798f5714300fdd9c1fed1e9ea9dcb3c">setMove</a>(randomAngle * currentEnemyDirectionSign * _speedModifier,</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                               +shipRadiusIncrease * _speedModifier,</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                               currentEnemyCentre);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            }</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">case</span> (MovementState::CircleOffsetLeft) : <span class="comment">// Perform a &quot;circle&quot; move Left, by offsetting centre of circle</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">if</span> (currentEnemyCentre.x &gt; -shipCircleRadius)</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                enemy-&gt;<a class="code" href="class_enemy.html#a2798f5714300fdd9c1fed1e9ea9dcb3c">setMove</a>(randomAngle * currentEnemyDirectionSign * _speedModifier,</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                               0,</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                               {currentEnemyCentre.x - shipOffsetIncrement, currentEnemyCentre.y});</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                enemy-&gt;<a class="code" href="class_enemy.html#a2798f5714300fdd9c1fed1e9ea9dcb3c">setMove</a>(randomAngle * currentEnemyDirectionSign * _speedModifier,</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                               +shipRadiusIncrease * _speedModifier,</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                               currentEnemyCentre);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">case</span> (MovementState::SmallCircling) : <span class="comment">// Small circle movement, used for satellites</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            enemy-&gt;<a class="code" href="class_enemy.html#a2798f5714300fdd9c1fed1e9ea9dcb3c">setMove</a>(randomAngle * _speedModifier,</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                           satelliteGrowIncrement,</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                           currentEnemyCentre);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">case</span> (MovementState::Wandering): <span class="comment">// Set the angle and radius position based on a perlinNoise value</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <span class="comment">//calculate a angle and radius change based on the perlinNoise generator that is then scaled and offset</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keyword">auto</span> perlinX = float(_xNoise.<a class="code" href="class_perlin_noise.html#af46a26b451f68a5955aca99cbb05fe1f">noise</a>(currentEnemyTimeAlive) * perlinNoiseAngleOffset -</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                             floor(perlinNoiseAngleOffset / 2));</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="keyword">auto</span> perlinY = float((_yNoise.<a class="code" href="class_perlin_noise.html#af46a26b451f68a5955aca99cbb05fe1f">noise</a>(currentEnemyTimeAlive / perlinNoiseSpeedScale) * perlinRadiusOffset -</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                                  perlinRadiusOffset / 2));</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            enemy-&gt;<a class="code" href="class_enemy.html#a2798f5714300fdd9c1fed1e9ea9dcb3c">setMove</a>(perlinX * currentEnemyDirectionSign * _speedModifier,</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                           perlinY * _speedModifier,</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                           {0, 0});</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        }</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;}</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="keywordtype">void</span> EntityController::setBulletMove()</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;{</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;bullet : _bulletsPlayer)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        bullet-&gt;setMove(-_bulletPlayerSpeed);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;bullet : _bulletsEnemy)</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        bullet-&gt;setMove(_bulletEnemySpeed * _speedModifier);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    }</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;}</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="keywordtype">void</span> EntityController::setMeteoroidMove()</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;{</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;meteoroid : _meteoroids)</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        meteoroid-&gt;setMove(_meteoroidSpeed * _speedModifier);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    }</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;}</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="class_entity_controller.html#aa983e489331de567d420724c42924b22">  465</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_entity_controller.html#aa983e489331de567d420724c42924b22">EntityController::setMove</a>()</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;{</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    setBulletMove();</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    setMeteoroidMove();</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    setEnemyMoveState();</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a3d7a4f7f330f070be70103bd00cf0f16">  472</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_entity_controller.html#a3d7a4f7f330f070be70103bd00cf0f16">EntityController::update</a>()</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;{</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;enemy : _enemies)</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        enemy-&gt;<a class="code" href="class_enemy.html#aa70d742da02995011f1618acc9e303db">update</a>();</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;bullet : _bulletsPlayer)</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        bullet-&gt;update();</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    }</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;bullet : _bulletsEnemy)</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        bullet-&gt;update();</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;meteoroid : _meteoroids)</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        meteoroid-&gt;update();</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    }</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;explosion : _explosions)</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        explosion-&gt;update();</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="comment">// Reset shoot and explosion events</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    _explosionHasOccurred = <span class="keyword">false</span>;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    _enemyShootEventHasOccurred = <span class="keyword">false</span>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;}</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a33fd19438e4d3e289f3423f311696e0b">  500</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_entity_controller.html#a33fd19438e4d3e289f3423f311696e0b">EntityController::checkCollisions</a>()</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;{</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    _explosionHasOccurred = <span class="keyword">false</span>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    _playerHasBeenHit = <span class="keyword">false</span>;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    checkEnemyToPlayerShipCollisions();</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    checkEnemyBulletsToPlayerShipCollisions();</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    checkPlayerBulletsToEnemyCollisions();</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    checkMeteoroidToPlayerShipCollisions();</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    checkPlayerBulletsToMeteoroidCollisions();</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">return</span> _playerHasBeenHit;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="keywordtype">void</span> EntityController::checkPlayerBulletsToEnemyCollisions()</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;{</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">// PlayerBullets -&gt; Enemy (enemy explodes, PlayerBullet disappears)</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> enemy = _enemies.begin(); enemy != _enemies.end(); ++enemy)</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> bullet = _bulletsPlayer.begin(); bullet != _bulletsPlayer.end();)</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_entity_controller.html#a0c4c7ccd010ae3ba3598fcaa623460b8">collides</a>((*bullet)-&gt;getSprite(), (*enemy)-&gt;getSprite()))</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                <span class="keyword">auto</span> explosion = std::make_unique&lt;Explosion&gt;(_resolution,</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                                                             (*enemy)-&gt;getRadius(),</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                                                             (*enemy)-&gt;getAngle(),</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                                                             (*enemy)-&gt;getScale().x * 2,</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                                                             <a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630ab85dd388781e1258630ce25412d1670f">entity::Explosion</a>,</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                                                             _textureHolder,</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                                                             <a class="code" href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683a6b011d08b77622f49b42e78cc8975dd3">textures::Explosion</a>);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                _explosions.push_back(std::move(explosion));</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                bullet = _bulletsPlayer.erase(bullet);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                (*enemy)-&gt;die();</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                _score.<a class="code" href="class_score.html#ab130dd02bdd3e026421ad426741637e8">incrementEnemiesKilled</a>((*enemy)-&gt;getType());</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                enemyKilled((*enemy)-&gt;getType());</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                _explosionHasOccurred = <span class="keyword">true</span>;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                bullet++;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        }</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">// Process Enemy death events from PlayerBullets collisions above</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="comment">// (indexing/incrementing problems prevent performing these actions in the same nested loop)</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> enemy = _enemies.begin(); enemy != _enemies.end();)</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="keywordflow">if</span> ((*enemy)-&gt;getLives() == 0)</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            enemy = _enemies.erase(enemy);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            enemy++;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;}</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="keywordtype">void</span> EntityController::checkPlayerBulletsToMeteoroidCollisions()</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;{</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="comment">// PlayerBullets -&gt; Enemy (enemy explodes, PlayerBullet disappears)</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> meteoroid = _meteoroids.begin(); meteoroid != _meteoroids.end(); ++meteoroid)</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> bullet = _bulletsPlayer.begin(); bullet != _bulletsPlayer.end();)</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_entity_controller.html#a0c4c7ccd010ae3ba3598fcaa623460b8">collides</a>((*bullet)-&gt;getSprite(), (*meteoroid)-&gt;getSprite()))</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                <span class="keyword">auto</span> explosion = std::make_unique&lt;Explosion&gt;(_resolution,</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                                                             (*bullet)-&gt;getRadius(),</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                                                             (*bullet)-&gt;getAngle(),</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                                                             (*bullet)-&gt;getScale().x / 2,</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                                                             <a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630ab85dd388781e1258630ce25412d1670f">entity::Explosion</a>,</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                                                             _textureHolder,</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                                                             <a class="code" href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683a6b011d08b77622f49b42e78cc8975dd3">textures::Explosion</a>);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                _explosions.push_back(std::move(explosion));</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                bullet = _bulletsPlayer.erase(bullet);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                _explosionHasOccurred = <span class="keyword">true</span>;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            }</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                bullet++;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        }</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    }</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;}</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="keywordtype">void</span> EntityController::checkEnemyBulletsToPlayerShipCollisions()</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;{</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="comment">// EnemyBullets -&gt; PlayerShip (player explodes + dies, bullet disappears)</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> bullet = _bulletsEnemy.begin(); bullet != _bulletsEnemy.end();)</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_entity_controller.html#a0c4c7ccd010ae3ba3598fcaa623460b8">collides</a>(_playerShip.<a class="code" href="class_player_ship.html#a140d0da9785b423c9384c98c755d70c9">getSprite</a>(), (*bullet)-&gt;getSprite()))</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <span class="keyword">auto</span> explosion = std::make_unique&lt;Explosion&gt;(_resolution,</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                                                         _playerShip.<a class="code" href="class_player_ship.html#a9671688d8c1759ef3f4500482f51f119">getDistanceFromCentre</a>(),</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                                                         _playerShip.<a class="code" href="class_player_ship.html#acfb073f06929879aa62a6baebe9e5323">getAngle</a>(),</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                                                         _playerShip.<a class="code" href="class_player_ship.html#aa0e837d731a3d3bac58f7ffbaac309b0">getScale</a>().x * 2,</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                                                         <a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630ab85dd388781e1258630ce25412d1670f">entity::Explosion</a>,</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                                                         _textureHolder,</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                                                         <a class="code" href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683a6b011d08b77622f49b42e78cc8975dd3">textures::Explosion</a>);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            _explosions.push_back(std::move(explosion));</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            bullet = _bulletsEnemy.erase(bullet);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="keywordflow">if</span> (!_playerShip.<a class="code" href="class_player_ship.html#a971ef4107082b2040598101b416b1214">isInvulnerable</a>())</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                _playerHasBeenHit = <span class="keyword">true</span>;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            _explosionHasOccurred = <span class="keyword">true</span>;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            bullet++;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;}</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="keywordtype">void</span> EntityController::checkMeteoroidToPlayerShipCollisions()</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;{</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="comment">// Meteoroids -&gt; PlayerShip (player explodes + dies, meteor keeps going)</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> meteoroid = _meteoroids.begin(); meteoroid != _meteoroids.end(); meteoroid++)</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    {</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_entity_controller.html#a0c4c7ccd010ae3ba3598fcaa623460b8">collides</a>(_playerShip.<a class="code" href="class_player_ship.html#a140d0da9785b423c9384c98c755d70c9">getSprite</a>(), (*meteoroid)-&gt;getSprite()))</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <span class="keyword">auto</span> explosion = std::make_unique&lt;Explosion&gt;(_resolution,</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                                                         _playerShip.<a class="code" href="class_player_ship.html#a9671688d8c1759ef3f4500482f51f119">getDistanceFromCentre</a>(),</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                                                         _playerShip.<a class="code" href="class_player_ship.html#acfb073f06929879aa62a6baebe9e5323">getAngle</a>(),</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                                                         (*meteoroid)-&gt;getScale().x,</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                                                         <a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630ab85dd388781e1258630ce25412d1670f">entity::Explosion</a>,</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                                                         _textureHolder,</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                                                         <a class="code" href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683a6b011d08b77622f49b42e78cc8975dd3">textures::Explosion</a>);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            _explosions.push_back(std::move(explosion));</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <span class="keywordflow">if</span> (!_playerShip.<a class="code" href="class_player_ship.html#a971ef4107082b2040598101b416b1214">isInvulnerable</a>())</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                _playerHasBeenHit = <span class="keyword">true</span>;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            }</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            _explosionHasOccurred = <span class="keyword">true</span>;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;}</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="keywordtype">void</span> EntityController::checkEnemyToPlayerShipCollisions()</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;{</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="comment">// Enemy &lt;-&gt; PlayerShip (enemy explodes, player dies)</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> enemy = _enemies.begin(); enemy != _enemies.end();)</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    {</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_entity_controller.html#a0c4c7ccd010ae3ba3598fcaa623460b8">collides</a>(_playerShip.<a class="code" href="class_player_ship.html#a140d0da9785b423c9384c98c755d70c9">getSprite</a>(), (*enemy)-&gt;getSprite()))</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        {</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <span class="keyword">auto</span> explosion = std::make_unique&lt;Explosion&gt;(_resolution,</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                                                         _playerShip.<a class="code" href="class_player_ship.html#a9671688d8c1759ef3f4500482f51f119">getDistanceFromCentre</a>(),</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                                                         _playerShip.<a class="code" href="class_player_ship.html#acfb073f06929879aa62a6baebe9e5323">getAngle</a>(),</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                                                         (*enemy)-&gt;getScale().x * 2,</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                                                         <a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630ab85dd388781e1258630ce25412d1670f">entity::Explosion</a>,</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                                                         _textureHolder,</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                                                         <a class="code" href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683a6b011d08b77622f49b42e78cc8975dd3">textures::Explosion</a>);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;            _explosions.push_back(move(explosion));</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">//            _score.incrementEnemiesKilled((*enemy)-&gt;getType());</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            enemyKilled((*enemy)-&gt;getType());</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            enemy = _enemies.erase(enemy);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            <span class="keywordflow">if</span> (!_playerShip.<a class="code" href="class_player_ship.html#a971ef4107082b2040598101b416b1214">isInvulnerable</a>())</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                _playerHasBeenHit = <span class="keyword">true</span>;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            }</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            _explosionHasOccurred = <span class="keyword">true</span>;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        } <span class="keywordflow">else</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            enemy++;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    }</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;}</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="class_entity_controller.html#af87a665252f2c949815d21eac24ef470">  661</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="class_entity_controller.html#af87a665252f2c949815d21eac24ef470">EntityController::explosionOccurred</a>()</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;{</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">return</span> _explosionHasOccurred;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;}</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno"><a class="line" href="class_entity_controller.html#aea66506a320de6c4b760a344cc4a2f03">  666</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_entity_controller.html#aea66506a320de6c4b760a344cc4a2f03">EntityController::checkClipping</a>()</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;{</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">// Clip away projectiles (bullets/meteoroids) outside cylindrical frustum at playerShip Camera plane</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> bullet = _bulletsEnemy.begin(); bullet != _bulletsEnemy.end();)</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keywordflow">if</span> ((*bullet)-&gt;getRadius() &gt; _resolution.y / 2)</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            bullet = _bulletsEnemy.erase(bullet);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        }</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            bullet++;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> meteoroid = _meteoroids.begin(); meteoroid != _meteoroids.end();)</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="keywordflow">if</span> ((*meteoroid)-&gt;getRadius() &gt; _resolution.y / 2)</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            meteoroid = _meteoroids.erase(meteoroid);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        }</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            meteoroid++;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="comment">// Clip away player bullets at centre</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keyword">auto</span> radius_buffer = 20;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> bullet = _bulletsPlayer.begin(); bullet != _bulletsPlayer.end();)</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    {</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keywordflow">if</span> (((*bullet)-&gt;getPosition().x &gt; (_resolution.x / 2) - radius_buffer)</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            &amp;&amp; ((*bullet)-&gt;getPosition().y &gt; (_resolution.y / 2) - radius_buffer)</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            &amp;&amp; ((*bullet)-&gt;getPosition().x &lt; (_resolution.x / 2) + radius_buffer)</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            &amp;&amp; ((*bullet)-&gt;getPosition().y &lt; (_resolution.y / 2) + radius_buffer))</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            bullet = _bulletsPlayer.erase(bullet);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        }</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            bullet++;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    }</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="comment">// Remove any finished explosions</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> explosion = _explosions.begin(); explosion != _explosions.end();)</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    {</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <span class="keywordflow">if</span> ((*explosion)-&gt;getLives() == 0)</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        {</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            explosion = _explosions.erase(explosion);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        }</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            explosion++;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    }</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;}</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a0c4c7ccd010ae3ba3598fcaa623460b8">  716</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_entity_controller.html#a0c4c7ccd010ae3ba3598fcaa623460b8">EntityController::collides</a>(<span class="keyword">const</span> Sprite &amp;sprite1, <span class="keyword">const</span> Sprite &amp;sprite2)</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;{</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keyword">auto</span> shrink_factor = 4 + 0.2f;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordtype">float</span> radius_1 = (sprite1.getGlobalBounds().width + sprite1.getGlobalBounds().height) / shrink_factor;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordtype">float</span> radius_2 = (sprite2.getGlobalBounds().width + sprite2.getGlobalBounds().height) / shrink_factor;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordtype">float</span> distance_x = sprite1.getPosition().x - sprite2.getPosition().x;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordtype">float</span> distance_y = sprite1.getPosition().y - sprite2.getPosition().y;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">return</span> radius_1 + radius_2 &gt;= sqrt((distance_x * distance_x) + (distance_y * distance_y));</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;}</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a795606fe9223180467575190e725a18a">  727</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_entity_controller.html#a795606fe9223180467575190e725a18a">EntityController::killAllEnemiesOfType</a>(<a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630">entity::ID</a> type)</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;{</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> enemy = _enemies.begin(); enemy != _enemies.end();)</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="keyword">auto</span> enemyType = (*enemy)-&gt;getType();</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="keywordflow">if</span> (enemyType == <a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630a482a2609e181d7a5ef12b27589e15af1">entity::Satellite</a>)</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            _satellitesAlive = 0;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="keywordflow">if</span> (enemyType == type)</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        {</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            enemy = _enemies.erase(enemy);</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        }</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            enemy++;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;}</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a2ec76abc8071f4f2719687c19bd2c86d">  746</a></span>&#160;<span class="keyword">const</span> entityList&amp; <a class="code" href="class_entity_controller.html#a2ec76abc8071f4f2719687c19bd2c86d">EntityController::getBulletsPlayer</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">return</span> _bulletsPlayer;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;}</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno"><a class="line" href="class_entity_controller.html#ad337f26454bd407b081debef8703ed4b">  751</a></span>&#160;<span class="keyword">const</span> entityList&amp; <a class="code" href="class_entity_controller.html#ad337f26454bd407b081debef8703ed4b">EntityController::getBulletsEnemy</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordflow">return</span> _bulletsEnemy;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;}</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a004eda3062eb27d2a6503af308d404da">  756</a></span>&#160;<span class="keyword">const</span> entityList&amp; <a class="code" href="class_entity_controller.html#a004eda3062eb27d2a6503af308d404da">EntityController::getEnemies</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">return</span> _enemies;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div><div class="line"><a name="l00761"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a41c5ed742b56fd287b92466b389d1eac">  761</a></span>&#160;<span class="keyword">const</span> entityList&amp; <a class="code" href="class_entity_controller.html#a41c5ed742b56fd287b92466b389d1eac">EntityController::getMeteoroids</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">return</span> _meteoroids;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;}</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a6c923a634afa9bed265cb509f92f418c">  766</a></span>&#160;<span class="keyword">const</span> entityList&amp; <a class="code" href="class_entity_controller.html#a6c923a634afa9bed265cb509f92f418c">EntityController::getExplosions</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">return</span> _explosions;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;}</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a266fed1b08301a21d6f9202f44be0c33">  771</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_entity_controller.html#a266fed1b08301a21d6f9202f44be0c33">EntityController::changeGlobalSpeed</a>(<span class="keywordtype">float</span> amount = 0.1f)</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;{</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keyword">auto</span> minimumSpeed = 0.1f;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">if</span> ((_speedModifier + amount) &lt; minimumSpeed)</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        _speedModifier = minimumSpeed;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        _speedModifier += amount;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;}</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a392fe1a574a77ba809b5731aada54f15">  780</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="class_entity_controller.html#a392fe1a574a77ba809b5731aada54f15">EntityController::getSpeed</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordflow">return</span> _speedModifier;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;}</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div><div class="line"><a name="l00785"></a><span class="lineno"><a class="line" href="class_entity_controller.html#a6386fca5171a9e0d5595c4b236983829">  785</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_entity_controller.html#a6386fca5171a9e0d5595c4b236983829">EntityController::resetGlobalSpeed</a>()</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;{</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    _speedModifier = _defaultSpeed;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;}</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="keywordtype">void</span> EntityController::enemyKilled(<a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630">entity::ID</a> type)</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;{</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">if</span> (type == <a class="code" href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630a482a2609e181d7a5ef12b27589e15af1">entity::Satellite</a>)</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    {</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        _satellitesAlive--;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    }</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">if</span> (_satellitesAlive == 1)</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    {</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        upgradePlayerShip();</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        _satellitesAlive = 0;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    }</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;}</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="keywordtype">void</span> EntityController::upgradePlayerShip()</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;{</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    _playerShip.<a class="code" href="class_player_ship.html#a903e5b1abb68fd052dbc7466db200e5d">upgrade</a>();</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;}</div><div class="ttc" id="class_perlin_noise_html_af46a26b451f68a5955aca99cbb05fe1f"><div class="ttname"><a href="class_perlin_noise.html#af46a26b451f68a5955aca99cbb05fe1f">PerlinNoise::noise</a></div><div class="ttdeci">double noise(double x, double y=0.f, double z=0.f)</div><div class="ttdoc">Chooses a point inside a unit cube, and calculating the gradients from the corner of the cube to this...</div><div class="ttdef"><b>Definition:</b> <a href="_perlin_noise_8cpp_source.html#l00037">PerlinNoise.cpp:37</a></div></div>
<div class="ttc" id="class_entity_controller_html_a33fd19438e4d3e289f3423f311696e0b"><div class="ttname"><a href="class_entity_controller.html#a33fd19438e4d3e289f3423f311696e0b">EntityController::checkCollisions</a></div><div class="ttdeci">bool checkCollisions()</div><div class="ttdoc">Responsible for dealing with all collision with all game objects. PlayerBullet-&gt;Enemy, EnemyBullet-&gt;PlayerShip, PlayerBullet-&gt;EnemyBullet,. </div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00500">EntityController.cpp:500</a></div></div>
<div class="ttc" id="class_enemy_html_a7767abadc17ca455e792aee7a6a4e81b"><div class="ttname"><a href="class_enemy.html#a7767abadc17ca455e792aee7a6a4e81b">Enemy::getAliveTimeElapsedTime</a></div><div class="ttdeci">const float getAliveTimeElapsedTime() const override</div><div class="ttdoc">Returns the amount of time that the enemy has been alive for. </div><div class="ttdef"><b>Definition:</b> <a href="_enemy_8cpp_source.html#l00249">Enemy.cpp:249</a></div></div>
<div class="ttc" id="class_entity_controller_html_af87a665252f2c949815d21eac24ef470"><div class="ttname"><a href="class_entity_controller.html#af87a665252f2c949815d21eac24ef470">EntityController::explosionOccurred</a></div><div class="ttdeci">const bool explosionOccurred()</div><div class="ttdoc">Getter to return if an explosion has occurred on the current frame. Used to deal with multiple explos...</div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00661">EntityController.cpp:661</a></div></div>
<div class="ttc" id="class_enemy_html_aa681a38470e97bc9d00106af8d2d7b8b"><div class="ttname"><a href="class_enemy.html#aa681a38470e97bc9d00106af8d2d7b8b">Enemy::getType</a></div><div class="ttdeci">const entity::ID getType() const override</div><div class="ttdoc">Returns the entity type of the enemy. </div><div class="ttdef"><b>Definition:</b> <a href="_enemy_8cpp_source.html#l00161">Enemy.cpp:161</a></div></div>
<div class="ttc" id="class_score_html"><div class="ttname"><a href="class_score.html">Score</a></div><div class="ttdoc">Object and methods to keep score of player actions. </div><div class="ttdef"><b>Definition:</b> <a href="_score_8hpp_source.html#l00013">Score.hpp:13</a></div></div>
<div class="ttc" id="class_player_ship_html_a903e5b1abb68fd052dbc7466db200e5d"><div class="ttname"><a href="class_player_ship.html#a903e5b1abb68fd052dbc7466db200e5d">PlayerShip::upgrade</a></div><div class="ttdeci">void upgrade()</div><div class="ttdoc">Sets the boolean state of the playerShip upgrade status to true. </div><div class="ttdef"><b>Definition:</b> <a href="_player_ship_8cpp_source.html#l00057">PlayerShip.cpp:57</a></div></div>
<div class="ttc" id="class_player_ship_html_a38a98009280fe3a9c74743c111bc0a7a"><div class="ttname"><a href="class_player_ship.html#a38a98009280fe3a9c74743c111bc0a7a">PlayerShip::isUpgraded</a></div><div class="ttdeci">const bool isUpgraded() const</div><div class="ttdoc">Boolean state of the playerShip upgrade status. </div><div class="ttdef"><b>Definition:</b> <a href="_player_ship_8cpp_source.html#l00157">PlayerShip.cpp:157</a></div></div>
<div class="ttc" id="class_entity_controller_html_a745f45e10249cbb831e10361a7ef161e"><div class="ttname"><a href="class_entity_controller.html#a745f45e10249cbb831e10361a7ef161e">EntityController::shootingOccurred</a></div><div class="ttdeci">const bool shootingOccurred()</div><div class="ttdoc">Getter to return if an bullet has been shot in the current frame. </div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00285">EntityController.cpp:285</a></div></div>
<div class="ttc" id="class_entity_controller_html_a0eb21f206e193254b6cd2d0e095fac73"><div class="ttname"><a href="class_entity_controller.html#a0eb21f206e193254b6cd2d0e095fac73">EntityController::shoot</a></div><div class="ttdeci">void shoot()</div><div class="ttdoc">Initiates a player shoot event based on current gun level and adds a bullet to the bulletList...</div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00275">EntityController.cpp:275</a></div></div>
<div class="ttc" id="namespaceentity_html_aa349ee1acd461ee9c30a65288284e630af598aba72e1ec676dd09f77d902cca47"><div class="ttname"><a href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630af598aba72e1ec676dd09f77d902cca47">entity::Meteoroid</a></div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00077">common.hpp:77</a></div></div>
<div class="ttc" id="class_entity_controller_html_a266fed1b08301a21d6f9202f44be0c33"><div class="ttname"><a href="class_entity_controller.html#a266fed1b08301a21d6f9202f44be0c33">EntityController::changeGlobalSpeed</a></div><div class="ttdeci">void changeGlobalSpeed(float amount)</div><div class="ttdoc">Adjust the game speed as time goes on to make it more challenging. Has imposed maximum, minimum and default interval values. </div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00771">EntityController.cpp:771</a></div></div>
<div class="ttc" id="namespaceentity_html_aa349ee1acd461ee9c30a65288284e630a5214f3f7bc586c30aa4d0147f5d77e63"><div class="ttname"><a href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630a5214f3f7bc586c30aa4d0147f5d77e63">entity::Basic</a></div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00071">common.hpp:71</a></div></div>
<div class="ttc" id="namespacetextures_html_a6fad82df7001b1d0cb7167752e29e683a668bb0cb7548cbcda4cf41982191bbe5"><div class="ttname"><a href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683a668bb0cb7548cbcda4cf41982191bbe5">textures::BulletPlayer</a></div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00108">common.hpp:108</a></div></div>
<div class="ttc" id="class_entity_controller_html_a392fe1a574a77ba809b5731aada54f15"><div class="ttname"><a href="class_entity_controller.html#a392fe1a574a77ba809b5731aada54f15">EntityController::getSpeed</a></div><div class="ttdeci">const float getSpeed() const</div><div class="ttdoc">Getter to return the current game speed. </div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00780">EntityController.cpp:780</a></div></div>
<div class="ttc" id="namespaceentity_html_aa349ee1acd461ee9c30a65288284e630a8fb473f90603316f51fd6961385ae7dc"><div class="ttname"><a href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630a8fb473f90603316f51fd6961385ae7dc">entity::BasicAlternate</a></div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00072">common.hpp:72</a></div></div>
<div class="ttc" id="class_enemy_html_a90a135c93792574d2675a670ac25b081"><div class="ttname"><a href="class_enemy.html#a90a135c93792574d2675a670ac25b081">Enemy::move</a></div><div class="ttdeci">void move() override</div><div class="ttdoc">Moves the enemy ship around screen space (performs the planned move) </div><div class="ttdef"><b>Definition:</b> <a href="_enemy_8cpp_source.html#l00199">Enemy.cpp:199</a></div></div>
<div class="ttc" id="class_entity_controller_html_a41c5ed742b56fd287b92466b389d1eac"><div class="ttname"><a href="class_entity_controller.html#a41c5ed742b56fd287b92466b389d1eac">EntityController::getMeteoroids</a></div><div class="ttdeci">const entityList &amp; getMeteoroids() const</div><div class="ttdoc">Returns a list of all current meteoroid. </div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00761">EntityController.cpp:761</a></div></div>
<div class="ttc" id="class_player_ship_html"><div class="ttname"><a href="class_player_ship.html">PlayerShip</a></div><div class="ttdoc">playerShip Class, inherited from Entity </div><div class="ttdef"><b>Definition:</b> <a href="_player_ship_8hpp_source.html#l00037">PlayerShip.hpp:37</a></div></div>
<div class="ttc" id="class_enemy_html_ae515a2ac21031b1898b14824e6b77d89"><div class="ttname"><a href="class_enemy.html#ae515a2ac21031b1898b14824e6b77d89">Enemy::getMovementDirectionSign</a></div><div class="ttdeci">const int getMovementDirectionSign() const override</div><div class="ttdoc">Returns the currently set movement direction for the enemy. </div><div class="ttdef"><b>Definition:</b> <a href="_enemy_8cpp_source.html#l00113">Enemy.cpp:113</a></div></div>
<div class="ttc" id="class_entity_controller_html_a40a37104d6dfde0f5d721d9af5218593"><div class="ttname"><a href="class_entity_controller.html#a40a37104d6dfde0f5d721d9af5218593">EntityController::spawnSatellites</a></div><div class="ttdeci">void spawnSatellites()</div><div class="ttdoc">Spawns a Satellite, a type of Enemy. function is called from spawnEntities. </div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00115">EntityController.cpp:115</a></div></div>
<div class="ttc" id="class_entity_controller_html_a004eda3062eb27d2a6503af308d404da"><div class="ttname"><a href="class_entity_controller.html#a004eda3062eb27d2a6503af308d404da">EntityController::getEnemies</a></div><div class="ttdeci">const entityList &amp; getEnemies() const</div><div class="ttdoc">Returns a list of all current enemies. </div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00756">EntityController.cpp:756</a></div></div>
<div class="ttc" id="namespaceentity_html_aa349ee1acd461ee9c30a65288284e630a6c66122ef45e01214ba4ff75ed43c77b"><div class="ttname"><a href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630a6c66122ef45e01214ba4ff75ed43c77b">entity::BasicWanderer</a></div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00073">common.hpp:73</a></div></div>
<div class="ttc" id="namespaceentity_html_aa349ee1acd461ee9c30a65288284e630a482a2609e181d7a5ef12b27589e15af1"><div class="ttname"><a href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630a482a2609e181d7a5ef12b27589e15af1">entity::Satellite</a></div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00078">common.hpp:78</a></div></div>
<div class="ttc" id="namespacetextures_html_a6fad82df7001b1d0cb7167752e29e683a8e31295a4a08b7f43e186d15604e0df9"><div class="ttname"><a href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683a8e31295a4a08b7f43e186d15604e0df9">textures::BulletEnemy</a></div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00109">common.hpp:109</a></div></div>
<div class="ttc" id="namespacetextures_html_a6fad82df7001b1d0cb7167752e29e683"><div class="ttname"><a href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683">textures::ID</a></div><div class="ttdeci">ID</div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00095">common.hpp:95</a></div></div>
<div class="ttc" id="class_entity_controller_html_a0c4c7ccd010ae3ba3598fcaa623460b8"><div class="ttname"><a href="class_entity_controller.html#a0c4c7ccd010ae3ba3598fcaa623460b8">EntityController::collides</a></div><div class="ttdeci">bool collides(const Sprite &amp;sprite1, const Sprite &amp;sprite2)</div><div class="ttdoc">Used to check for collisions between two sprites. </div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00716">EntityController.cpp:716</a></div></div>
<div class="ttc" id="namespaceentity_html_aa349ee1acd461ee9c30a65288284e630a2f01aaacf9d02209ca6cea51dec18630"><div class="ttname"><a href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630a2f01aaacf9d02209ca6cea51dec18630">entity::PlayerBullet</a></div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00075">common.hpp:75</a></div></div>
<div class="ttc" id="namespacetextures_html_a6fad82df7001b1d0cb7167752e29e683a6b011d08b77622f49b42e78cc8975dd3"><div class="ttname"><a href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683a6b011d08b77622f49b42e78cc8975dd3">textures::Explosion</a></div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00112">common.hpp:112</a></div></div>
<div class="ttc" id="class_entity_controller_html_a6c923a634afa9bed265cb509f92f418c"><div class="ttname"><a href="class_entity_controller.html#a6c923a634afa9bed265cb509f92f418c">EntityController::getExplosions</a></div><div class="ttdeci">const entityList &amp; getExplosions() const</div><div class="ttdoc">Returns a list of all current explosions. </div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00766">EntityController.cpp:766</a></div></div>
<div class="ttc" id="class_enemy_html_ad1f74d7c24090c051b5ba532753b6b0c"><div class="ttname"><a href="class_enemy.html#ad1f74d7c24090c051b5ba532753b6b0c">Enemy::setScale</a></div><div class="ttdeci">void setScale(float scaleX, float scaleY) override</div><div class="ttdoc">Sets the scale of the Enemy screen object. </div><div class="ttdef"><b>Definition:</b> <a href="_enemy_8cpp_source.html#l00194">Enemy.cpp:194</a></div></div>
<div class="ttc" id="class_entity_controller_html_ad337f26454bd407b081debef8703ed4b"><div class="ttname"><a href="class_entity_controller.html#ad337f26454bd407b081debef8703ed4b">EntityController::getBulletsEnemy</a></div><div class="ttdeci">const entityList &amp; getBulletsEnemy() const</div><div class="ttdoc">Returns a list of all current enemy bullets. </div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00751">EntityController.cpp:751</a></div></div>
<div class="ttc" id="class_player_ship_html_aa0e837d731a3d3bac58f7ffbaac309b0"><div class="ttname"><a href="class_player_ship.html#aa0e837d731a3d3bac58f7ffbaac309b0">PlayerShip::getScale</a></div><div class="ttdeci">const Vector2f getScale() const override</div><div class="ttdoc">Returns the scale (in width/height) of the playerShip object. </div><div class="ttdef"><b>Definition:</b> <a href="_player_ship_8cpp_source.html#l00115">PlayerShip.cpp:115</a></div></div>
<div class="ttc" id="class_enemy_html_aeee94969ed311eb4e74bb96217db54bc"><div class="ttname"><a href="class_enemy.html#aeee94969ed311eb4e74bb96217db54bc">Enemy::resetShootTimer</a></div><div class="ttdeci">void resetShootTimer() override</div><div class="ttdoc">Resets the object timer, measuring when the enemy last shot a bullet. </div><div class="ttdef"><b>Definition:</b> <a href="_enemy_8cpp_source.html#l00244">Enemy.cpp:244</a></div></div>
<div class="ttc" id="class_entity_controller_html_a11e3e3bfbb24a964d110e15566f89dc5"><div class="ttname"><a href="class_entity_controller.html#a11e3e3bfbb24a964d110e15566f89dc5">EntityController::spawnEntities</a></div><div class="ttdeci">void spawnEntities()</div><div class="ttdoc">Initiates the spawn event for Enemy, Satellites and Meteoroid. </div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00157">EntityController.cpp:157</a></div></div>
<div class="ttc" id="class_entity_controller_html_aea66506a320de6c4b760a344cc4a2f03"><div class="ttname"><a href="class_entity_controller.html#aea66506a320de6c4b760a344cc4a2f03">EntityController::checkClipping</a></div><div class="ttdeci">void checkClipping()</div><div class="ttdoc">Checks all playerShips to see if they are outside of the play range. In the event that they are...</div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00666">EntityController.cpp:666</a></div></div>
<div class="ttc" id="namespacetextures_html_a6fad82df7001b1d0cb7167752e29e683a31855a1fade550056ae543964088be50"><div class="ttname"><a href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683a31855a1fade550056ae543964088be50">textures::Satellite</a></div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00111">common.hpp:111</a></div></div>
<div class="ttc" id="class_entity_controller_html_aa983e489331de567d420724c42924b22"><div class="ttname"><a href="class_entity_controller.html#aa983e489331de567d420724c42924b22">EntityController::setMove</a></div><div class="ttdeci">void setMove()</div><div class="ttdoc">Sets up next frame&amp;#39; movement on all entities (in EntityController) </div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00465">EntityController.cpp:465</a></div></div>
<div class="ttc" id="class_score_html_a52540ac16336966a6805da3a0f88845f"><div class="ttname"><a href="class_score.html#a52540ac16336966a6805da3a0f88845f">Score::incrementBulletsFired</a></div><div class="ttdeci">void incrementBulletsFired()</div><div class="ttdoc">On shooting a bullet, is called to increment the number of bullets shot. </div><div class="ttdef"><b>Definition:</b> <a href="_score_8cpp_source.html#l00062">Score.cpp:62</a></div></div>
<div class="ttc" id="class_entity_controller_html_a3d7a4f7f330f070be70103bd00cf0f16"><div class="ttname"><a href="class_entity_controller.html#a3d7a4f7f330f070be70103bd00cf0f16">EntityController::update</a></div><div class="ttdeci">void update()</div><div class="ttdoc">Updates all game objects by calling the underlying update functions. Called on every frame...</div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00472">EntityController.cpp:472</a></div></div>
<div class="ttc" id="class_enemy_html_aa70d742da02995011f1618acc9e303db"><div class="ttname"><a href="class_enemy.html#aa70d742da02995011f1618acc9e303db">Enemy::update</a></div><div class="ttdeci">void update() override</div><div class="ttdoc">Checks and updates the movement, shooting and calls the actual movement translation. </div><div class="ttdef"><b>Definition:</b> <a href="_enemy_8cpp_source.html#l00077">Enemy.cpp:77</a></div></div>
<div class="ttc" id="namespacetextures_html_a6fad82df7001b1d0cb7167752e29e683ae7b2e053768f8f2f439c246385c3825e"><div class="ttname"><a href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683ae7b2e053768f8f2f439c246385c3825e">textures::EnemyShipYellow</a></div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00099">common.hpp:99</a></div></div>
<div class="ttc" id="class_entity_controller_html_a2ec76abc8071f4f2719687c19bd2c86d"><div class="ttname"><a href="class_entity_controller.html#a2ec76abc8071f4f2719687c19bd2c86d">EntityController::getBulletsPlayer</a></div><div class="ttdeci">const entityList &amp; getBulletsPlayer() const</div><div class="ttdoc">Returns a list of all current player bullets. </div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00746">EntityController.cpp:746</a></div></div>
<div class="ttc" id="namespaceentity_html_aa349ee1acd461ee9c30a65288284e630a80bd74deb24a8aaa506fb1bdbcd9bf48"><div class="ttname"><a href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630a80bd74deb24a8aaa506fb1bdbcd9bf48">entity::EnemyBullet</a></div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00076">common.hpp:76</a></div></div>
<div class="ttc" id="class_enemy_html_a9a23ac01765299ace191e92be2b366a5"><div class="ttname"><a href="class_enemy.html#a9a23ac01765299ace191e92be2b366a5">Enemy::setShoot</a></div><div class="ttdeci">void setShoot() override</div><div class="ttdoc">Sets the _isShooting state of the enemy. </div><div class="ttdef"><b>Definition:</b> <a href="_enemy_8cpp_source.html#l00166">Enemy.cpp:166</a></div></div>
<div class="ttc" id="class_perlin_noise_html"><div class="ttname"><a href="class_perlin_noise.html">PerlinNoise</a></div><div class="ttdoc">Perlin Noise Class. </div><div class="ttdef"><b>Definition:</b> <a href="_perlin_noise_8hpp_source.html#l00026">PerlinNoise.hpp:26</a></div></div>
<div class="ttc" id="class_enemy_html_a18b30fb59601ac04aef5d68b7740f0b6"><div class="ttname"><a href="class_enemy.html#a18b30fb59601ac04aef5d68b7740f0b6">Enemy::getRadius</a></div><div class="ttdeci">const float getRadius() const override</div><div class="ttdoc">Returns the distance from origin (screen space) </div><div class="ttdef"><b>Definition:</b> <a href="_enemy_8cpp_source.html#l00089">Enemy.cpp:89</a></div></div>
<div class="ttc" id="class_player_ship_html_acfb073f06929879aa62a6baebe9e5323"><div class="ttname"><a href="class_player_ship.html#acfb073f06929879aa62a6baebe9e5323">PlayerShip::getAngle</a></div><div class="ttdeci">const float getAngle() const override</div><div class="ttdoc">Returns the current angle of the playerShip around the movement circle. </div><div class="ttdef"><b>Definition:</b> <a href="_player_ship_8cpp_source.html#l00167">PlayerShip.cpp:167</a></div></div>
<div class="ttc" id="class_entity_controller_html_a6386fca5171a9e0d5595c4b236983829"><div class="ttname"><a href="class_entity_controller.html#a6386fca5171a9e0d5595c4b236983829">EntityController::resetGlobalSpeed</a></div><div class="ttdeci">void resetGlobalSpeed()</div><div class="ttdoc">Reverts the game speed to the stock default value. </div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00785">EntityController.cpp:785</a></div></div>
<div class="ttc" id="class_resource_holder_html"><div class="ttname"><a href="class_resource_holder.html">ResourceHolder&lt; sf::Texture, textures::ID &gt;</a></div></div>
<div class="ttc" id="class_enemy_html_a8c29ddcd122e8abfa0cb95cebcc287ca"><div class="ttname"><a href="class_enemy.html#a8c29ddcd122e8abfa0cb95cebcc287ca">Enemy::getAngle</a></div><div class="ttdeci">const float getAngle() const override</div><div class="ttdoc">Returns the current angle of the enemy from the origin(screen space) </div><div class="ttdef"><b>Definition:</b> <a href="_enemy_8cpp_source.html#l00176">Enemy.cpp:176</a></div></div>
<div class="ttc" id="class_enemy_html_af459b10383bcb7bc5b3a6ffa15389c6e"><div class="ttname"><a href="class_enemy.html#af459b10383bcb7bc5b3a6ffa15389c6e">Enemy::getMovementState</a></div><div class="ttdeci">const MovementState getMovementState() const override</div><div class="ttdoc">Returns current Movement state for the enemy. </div><div class="ttdef"><b>Definition:</b> <a href="_enemy_8cpp_source.html#l00108">Enemy.cpp:108</a></div></div>
<div class="ttc" id="class_enemy_html_ad162072e34f5a2ba9efce7ebe9295d80"><div class="ttname"><a href="class_enemy.html#ad162072e34f5a2ba9efce7ebe9295d80">Enemy::reset</a></div><div class="ttdeci">void reset() override</div><div class="ttdoc">Resets the enemy (after an enemy is killed, or leaves the outer circle) </div><div class="ttdef"><b>Definition:</b> <a href="_enemy_8cpp_source.html#l00055">Enemy.cpp:55</a></div></div>
<div class="ttc" id="namespaceentity_html_aa349ee1acd461ee9c30a65288284e630ab85dd388781e1258630ce25412d1670f"><div class="ttname"><a href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630ab85dd388781e1258630ce25412d1670f">entity::Explosion</a></div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00079">common.hpp:79</a></div></div>
<div class="ttc" id="class_player_ship_html_a9671688d8c1759ef3f4500482f51f119"><div class="ttname"><a href="class_player_ship.html#a9671688d8c1759ef3f4500482f51f119">PlayerShip::getDistanceFromCentre</a></div><div class="ttdeci">const float getDistanceFromCentre() const override</div><div class="ttdoc">Returns the distance from origin (non-linear distance) </div><div class="ttdef"><b>Definition:</b> <a href="_player_ship_8cpp_source.html#l00100">PlayerShip.cpp:100</a></div></div>
<div class="ttc" id="class_entity_controller_html_a40483087cfb5b404792454ce5df05165"><div class="ttname"><a href="class_entity_controller.html#a40483087cfb5b404792454ce5df05165">EntityController::spawnBasicEnemy</a></div><div class="ttdeci">void spawnBasicEnemy(entity::ID id, textures::ID shipVariant, MovementDirection movementDirection, MovementState movementState)</div><div class="ttdoc">Spawns an enemy of a defined id and variant in a spiral direction(movementState) function is called f...</div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00040">EntityController.cpp:40</a></div></div>
<div class="ttc" id="class_enemy_html_a3a828e0b2654e7aec476040abe9ea5e7"><div class="ttname"><a href="class_enemy.html#a3a828e0b2654e7aec476040abe9ea5e7">Enemy::setMovementState</a></div><div class="ttdeci">void setMovementState(MovementState movementState) override</div><div class="ttdoc">Sets the movement state of the enemy. </div><div class="ttdef"><b>Definition:</b> <a href="_enemy_8cpp_source.html#l00050">Enemy.cpp:50</a></div></div>
<div class="ttc" id="class_enemy_html_ace550df4474b17d1774e8f5abd0dcfdb"><div class="ttname"><a href="class_enemy.html#ace550df4474b17d1774e8f5abd0dcfdb">Enemy::getShootTimerElapsedTime</a></div><div class="ttdeci">const float getShootTimerElapsedTime() const override</div><div class="ttdoc">Returns amount of time since the enemy last shot a bullet. </div><div class="ttdef"><b>Definition:</b> <a href="_enemy_8cpp_source.html#l00239">Enemy.cpp:239</a></div></div>
<div class="ttc" id="class_player_ship_html_a971ef4107082b2040598101b416b1214"><div class="ttname"><a href="class_player_ship.html#a971ef4107082b2040598101b416b1214">PlayerShip::isInvulnerable</a></div><div class="ttdeci">const bool isInvulnerable() const</div><div class="ttdoc">Boolean state of the playerShip taking damage from collisions or not. </div><div class="ttdef"><b>Definition:</b> <a href="_player_ship_8cpp_source.html#l00152">PlayerShip.cpp:152</a></div></div>
<div class="ttc" id="namespaceentity_html_aa349ee1acd461ee9c30a65288284e630"><div class="ttname"><a href="namespaceentity.html#aa349ee1acd461ee9c30a65288284e630">entity::ID</a></div><div class="ttdeci">ID</div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00069">common.hpp:69</a></div></div>
<div class="ttc" id="class_player_ship_html_af9637e106c714e09bbdfce4e5ff59ccd"><div class="ttname"><a href="class_player_ship.html#af9637e106c714e09bbdfce4e5ff59ccd">PlayerShip::isShooting</a></div><div class="ttdeci">const bool isShooting() const override</div><div class="ttdoc">Boolean shooting state of the playerShip. </div><div class="ttdef"><b>Definition:</b> <a href="_player_ship_8cpp_source.html#l00142">PlayerShip.cpp:142</a></div></div>
<div class="ttc" id="class_player_ship_html_a140d0da9785b423c9384c98c755d70c9"><div class="ttname"><a href="class_player_ship.html#a140d0da9785b423c9384c98c755d70c9">PlayerShip::getSprite</a></div><div class="ttdeci">const Sprite &amp; getSprite() const override</div><div class="ttdoc">Returns the Sprite object of the Class by ref. </div><div class="ttdef"><b>Definition:</b> <a href="_player_ship_8cpp_source.html#l00110">PlayerShip.cpp:110</a></div></div>
<div class="ttc" id="class_enemy_html_a8e39a40a28f1384dd7e0d24d053a506f"><div class="ttname"><a href="class_enemy.html#a8e39a40a28f1384dd7e0d24d053a506f">Enemy::getCentre</a></div><div class="ttdeci">const Vector2f getCentre() const override</div><div class="ttdoc">Returns the x/y position of the _centre member of the enemy on screen. </div><div class="ttdef"><b>Definition:</b> <a href="_enemy_8cpp_source.html#l00103">Enemy.cpp:103</a></div></div>
<div class="ttc" id="namespacecommon_html_a3ccc991a71e316bb738d931ce5d36cf0"><div class="ttname"><a href="namespacecommon.html#a3ccc991a71e316bb738d931ce5d36cf0">common::degreeToRad</a></div><div class="ttdeci">float degreeToRad(float degree)</div><div class="ttdoc">Converts an angle from degrees to radians. </div><div class="ttdef"><b>Definition:</b> <a href="common_8cpp_source.html#l00017">common.cpp:17</a></div></div>
<div class="ttc" id="class_player_ship_html_af4b4060652f725125bc2704826ab9abe"><div class="ttname"><a href="class_player_ship.html#af4b4060652f725125bc2704826ab9abe">PlayerShip::getRadius</a></div><div class="ttdeci">const float getRadius() const override</div><div class="ttdoc">Returns the distance from origin (screen space) </div><div class="ttdef"><b>Definition:</b> <a href="_player_ship_8cpp_source.html#l00095">PlayerShip.cpp:95</a></div></div>
<div class="ttc" id="class_entity_controller_html_a795606fe9223180467575190e725a18a"><div class="ttname"><a href="class_entity_controller.html#a795606fe9223180467575190e725a18a">EntityController::killAllEnemiesOfType</a></div><div class="ttdeci">void killAllEnemiesOfType(entity::ID type)</div><div class="ttdoc">Destroys all enemies of a particular type. This is useful When a game event requires all of one type ...</div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00727">EntityController.cpp:727</a></div></div>
<div class="ttc" id="class_score_html_ab130dd02bdd3e026421ad426741637e8"><div class="ttname"><a href="class_score.html#ab130dd02bdd3e026421ad426741637e8">Score::incrementEnemiesKilled</a></div><div class="ttdeci">void incrementEnemiesKilled(entity::ID type)</div><div class="ttdoc">When the player kills an enemy, this methos is called with the defined entity type. Based on the type of entity, different scores are given to the player. these scores are stored. </div><div class="ttdef"><b>Definition:</b> <a href="_score_8cpp_source.html#l00023">Score.cpp:23</a></div></div>
<div class="ttc" id="class_entity_controller_html_a8812c9d07edf73b8ec1587192edeceb2"><div class="ttname"><a href="class_entity_controller.html#a8812c9d07edf73b8ec1587192edeceb2">EntityController::EntityController</a></div><div class="ttdeci">EntityController(Vector2i resolution, PlayerShip &amp;playerShip, TextureHolder &amp;textures, Score &amp;score, float speedModifier)</div><div class="ttdoc">Constructor for the EntityController class. Called directly from game object to handle the creation...</div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00007">EntityController.cpp:7</a></div></div>
<div class="ttc" id="namespacetextures_html_a6fad82df7001b1d0cb7167752e29e683a8d465225cc34392b725bee1861ad92a6"><div class="ttname"><a href="namespacetextures.html#a6fad82df7001b1d0cb7167752e29e683a8d465225cc34392b725bee1861ad92a6">textures::Meteoroid</a></div><div class="ttdef"><b>Definition:</b> <a href="common_8hpp_source.html#l00110">common.hpp:110</a></div></div>
<div class="ttc" id="class_entity_controller_html_a07015aef5ce07f74db32abb25f10ddd2"><div class="ttname"><a href="class_entity_controller.html#a07015aef5ce07f74db32abb25f10ddd2">EntityController::spawnMeteoroid</a></div><div class="ttdeci">void spawnMeteoroid()</div><div class="ttdoc">Spawns a meteoroid function is called from spawnEntities. </div><div class="ttdef"><b>Definition:</b> <a href="_entity_controller_8cpp_source.html#l00100">EntityController.cpp:100</a></div></div>
<div class="ttc" id="class_enemy_html_a78d732564cb0fadae19a6859b62dbee7"><div class="ttname"><a href="class_enemy.html#a78d732564cb0fadae19a6859b62dbee7">Enemy::getDistanceFromCentre</a></div><div class="ttdeci">const float getDistanceFromCentre() const override</div><div class="ttdoc">Returns the distance from origin (non-linear distance) </div><div class="ttdef"><b>Definition:</b> <a href="_enemy_8cpp_source.html#l00097">Enemy.cpp:97</a></div></div>
<div class="ttc" id="class_enemy_html_a2798f5714300fdd9c1fed1e9ea9dcb3c"><div class="ttname"><a href="class_enemy.html#a2798f5714300fdd9c1fed1e9ea9dcb3c">Enemy::setMove</a></div><div class="ttdeci">void setMove(float angle, float distance) override</div><div class="ttdoc">Sets up the next frame&amp;#39;s position for the object. </div><div class="ttdef"><b>Definition:</b> <a href="_enemy_8cpp_source.html#l00034">Enemy.cpp:34</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5cf44830e849bf467dfbbcc5ff937fbf.html">game-source-code</a></li><li class="navelem"><b>EntityController.cpp</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
